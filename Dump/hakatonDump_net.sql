--
-- PostgreSQL database dump
--

-- Dumped from database version 12.1
-- Dumped by pg_dump version 12.1

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--DROP DATABASE hakaton;
--
-- Name: hakaton; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE hakaton WITH TEMPLATE = template0 ENCODING = 'UTF8' LC_COLLATE = 'Russian_Russia.1251' LC_CTYPE = 'Russian_Russia.1251';


ALTER DATABASE hakaton OWNER TO postgres;

\connect hakaton

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: enterprise; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.enterprise (
    id integer NOT NULL,
    inn character varying(255),
    name character varying(255),
    parent_id integer NOT NULL,
    email character varying(255)
);


ALTER TABLE public.enterprise OWNER TO postgres;

--
-- Name: enterprise_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.enterprise ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.enterprise_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: hibernate_sequence; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.hibernate_sequence
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.hibernate_sequence OWNER TO postgres;

--
-- Name: process; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.process (
    id integer NOT NULL,
    comment text,
    date_approval date,
    date_create date,
    date_end date,
    date_end_fact date,
    date_start_fact date,
    description character varying(255),
    number character varying(255),
    status_document integer NOT NULL,
    executor_enterprise_id integer,
    founder_enterprise_id integer
);


ALTER TABLE public.process OWNER TO postgres;

--
-- Name: process_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.process ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.process_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: process_next_process; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.process_next_process (
    process_id integer NOT NULL,
    next_process_id integer NOT NULL
);


ALTER TABLE public.process_next_process OWNER TO postgres;

--
-- Name: process_previous_process; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.process_previous_process (
    process_id integer NOT NULL,
    previous_process_id integer NOT NULL
);


ALTER TABLE public.process_previous_process OWNER TO postgres;

--
-- Data for Name: enterprise; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.enterprise (id, inn, name, parent_id, email) VALUES (1, '12345', 'Департамент финансов города Москвы', 0, NULL);
INSERT INTO public.enterprise (id, inn, name, parent_id, email) VALUES (2, '12346', 'Главные администраторы доходов бюджета города и главные администраторы источников финансирования дефицита бюджета Москвы', 0, NULL);
INSERT INTO public.enterprise (id, inn, name, parent_id, email) VALUES (3, '12347', 'Департамент экономической политики и развития города Москвы', 0, NULL);
INSERT INTO public.enterprise (id, inn, name, parent_id, email) VALUES (4, '12348', 'Главные распорядители бюджетных средств', 0, NULL);
INSERT INTO public.enterprise (id, inn, name, parent_id, email) VALUES (8, 'Р63', 'Главные администраторы доходов бюджета города и главные администраторы источников финансирования дефицита бюджета Департамент финансов города Москвы. Отдел 2', 2, NULL);
INSERT INTO public.enterprise (id, inn, name, parent_id, email) VALUES (7, 'Р62', 'Главные администраторы доходов бюджета города и главные администраторы источников финансирования дефицита бюджета Департамент финансов города Москвы. Отдел 1', 2, NULL);
INSERT INTO public.enterprise (id, inn, name, parent_id, email) VALUES (6, 'О15', 'Департамент финансов города Москвы. Отдел 2', 1, NULL);
INSERT INTO public.enterprise (id, inn, name, parent_id, email) VALUES (5, 'О16', 'Департамент финансов города Москвы. Отдел 1', 1, NULL);
INSERT INTO public.enterprise (id, inn, name, parent_id, email) VALUES (9, 'Р87', 'Главные администраторы доходов бюджета города и главные администраторы источников финансирования дефицита бюджета Департамент финансов города Москвы. Отдел 2. Отдел 1', 8, NULL);
INSERT INTO public.enterprise (id, inn, name, parent_id, email) VALUES (10, 'О76', 'Департамент экономической политики и развития города Москвы. Отдел 1', 3, NULL);
INSERT INTO public.enterprise (id, inn, name, parent_id, email) VALUES (11, 'И53', 'Департамент экономической политики и развития города Москвы. Отдел 2', 3, NULL);
INSERT INTO public.enterprise (id, inn, name, parent_id, email) VALUES (12, 'Р09', 'Главные распорядители бюджетных средств. Отдел 1 ', 4, NULL);
INSERT INTO public.enterprise (id, inn, name, parent_id, email) VALUES (13, 'Р10', 'Главные распорядители бюджетных средств. Отдел 2', 4, NULL);
INSERT INTO public.enterprise (id, inn, name, parent_id, email) VALUES (14, '345531', 'Новая организаця', 1, NULL);
INSERT INTO public.enterprise (id, inn, name, parent_id, email) VALUES (15, '55268', NULL, 1, NULL);
INSERT INTO public.enterprise (id, inn, name, parent_id, email) VALUES (16, '552685', 'das', 1, NULL);


--
-- Data for Name: process; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.process (id, comment, date_approval, date_create, date_end, date_end_fact, date_start_fact, description, number, status_document, executor_enterprise_id, founder_enterprise_id) VALUES (6, 'Коммент3', '2019-03-03', '2019-06-25', '2019-07-10', NULL, NULL, 'предложения по увеличению объемов бюджетных ассигнований на очередной финансовый год и плановый период по конкретным направлениям расходов государственных программ города Москвы', '8003', 0, 4, 1);
INSERT INTO public.process (id, comment, date_approval, date_create, date_end, date_end_fact, date_start_fact, description, number, status_document, executor_enterprise_id, founder_enterprise_id) VALUES (5, 'Коммент3', '2019-03-03', '2019-06-25', '2019-07-10', NULL, NULL, 'Распределение бюджетных ассигнований на очередной финансовый год и плановый период в разрезе разделов, подразделов, целевых статей и видов расходов бюджетной классификации Российской Федерации', '8002', 0, 4, 1);
INSERT INTO public.process (id, comment, date_approval, date_create, date_end, date_end_fact, date_start_fact, description, number, status_document, executor_enterprise_id, founder_enterprise_id) VALUES (1, '', '2019-02-03', '2019-01-01', '2019-06-05', '2019-03-03', '2019-03-03', 'Сценарные условия функционирования экономики города Москвы и основные параметры прогноза социально-экономического развития города Москвы на очередной финансовый год и плановый период', '62737', 1, 1, 2);
INSERT INTO public.process (id, comment, date_approval, date_create, date_end, date_end_fact, date_start_fact, description, number, status_document, executor_enterprise_id, founder_enterprise_id) VALUES (4, 'Коммент4', '2019-03-03', '2019-06-25', '2019-07-01', NULL, NULL, 'Одобренные Бюджетной комиссией Правительства Москвы основные параметры прогноза социально-экономического развития города Москвы на очередной финансовый год и плановый период', '8001', 0, 3, 4);
INSERT INTO public.process (id, comment, date_approval, date_create, date_end, date_end_fact, date_start_fact, description, number, status_document, executor_enterprise_id, founder_enterprise_id) VALUES (3, '', '2019-03-03', '2019-06-15', '2019-06-25', NULL, NULL, 'Сведения о предельных объемах бюджетных ассигнований на реализацию государственных программ города Москвы и осуществление непрограммных направлений деятельности органов государственной власти города Москвы', '64643', 0, 1, 4);
INSERT INTO public.process (id, comment, date_approval, date_create, date_end, date_end_fact, date_start_fact, description, number, status_document, executor_enterprise_id, founder_enterprise_id) VALUES (2, 'Коммент1', '2019-03-03', '2019-06-05', '2019-06-15', '2019-04-03', '2019-03-03', 'Прогнозные показатели по налоговым и неналоговым доходам бюджета города Москвы', '64642', 0, 2, 1);
INSERT INTO public.process (id, comment, date_approval, date_create, date_end, date_end_fact, date_start_fact, description, number, status_document, executor_enterprise_id, founder_enterprise_id) VALUES (7, 'Коммент3', '2019-03-03', '2019-06-25', '2019-07-10', NULL, NULL, 'Методики (проекты методик) и расчеты распределения межбюджетных трансфертов бюджетам внутригородских муниципальных образований в городе Москве', '8004', 0, 4, 1);
INSERT INTO public.process (id, comment, date_approval, date_create, date_end, date_end_fact, date_start_fact, description, number, status_document, executor_enterprise_id, founder_enterprise_id) VALUES (8, 'Коммент3', '2019-03-03', '2019-07-10', '2019-08-05', NULL, NULL, 'Проект прогноза социально-экономического развития города Москвы на очередной финансовый год и плановый период, разработанный Департаментом экономической политики и развития города Москвы', '8005', 0, 1, 2);
INSERT INTO public.process (id, comment, date_approval, date_create, date_end, date_end_fact, date_start_fact, description, number, status_document, executor_enterprise_id, founder_enterprise_id) VALUES (9, 'Коммент4', '2019-03-03', '2019-08-05', '2019-08-15', NULL, NULL, 'Уточненные прогнозные показатели по налоговым и неналоговым доходам бюджета города Москвы и поступлениям по источникам финансирования дефицита бюджета города Москвы', '8006', 0, 2, 1);


--
-- Data for Name: process_next_process; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.process_next_process (process_id, next_process_id) VALUES (1, 2);
INSERT INTO public.process_next_process (process_id, next_process_id) VALUES (2, 3);
INSERT INTO public.process_next_process (process_id, next_process_id) VALUES (3, 4);
INSERT INTO public.process_next_process (process_id, next_process_id) VALUES (4, 5);
INSERT INTO public.process_next_process (process_id, next_process_id) VALUES (4, 6);
INSERT INTO public.process_next_process (process_id, next_process_id) VALUES (4, 7);
INSERT INTO public.process_next_process (process_id, next_process_id) VALUES (7, 8);
INSERT INTO public.process_next_process (process_id, next_process_id) VALUES (8, 9);


--
-- Data for Name: process_previous_process; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.process_previous_process (process_id, previous_process_id) VALUES (2, 1);
INSERT INTO public.process_previous_process (process_id, previous_process_id) VALUES (3, 2);
INSERT INTO public.process_previous_process (process_id, previous_process_id) VALUES (4, 3);
INSERT INTO public.process_previous_process (process_id, previous_process_id) VALUES (5, 4);
INSERT INTO public.process_previous_process (process_id, previous_process_id) VALUES (6, 4);
INSERT INTO public.process_previous_process (process_id, previous_process_id) VALUES (7, 4);
INSERT INTO public.process_previous_process (process_id, previous_process_id) VALUES (8, 7);
INSERT INTO public.process_previous_process (process_id, previous_process_id) VALUES (9, 8);


--
-- Name: enterprise_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.enterprise_id_seq', 16, true);


--
-- Name: hibernate_sequence; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.hibernate_sequence', 1, false);


--
-- Name: process_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.process_id_seq', 9, true);


--
-- Name: enterprise enterprise_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.enterprise
    ADD CONSTRAINT enterprise_pkey PRIMARY KEY (id);


--
-- Name: process process_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.process
    ADD CONSTRAINT process_pkey PRIMARY KEY (id);


--
-- Name: process fk3ipfhcvviued42u7i5pn0j0d0; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.process
    ADD CONSTRAINT fk3ipfhcvviued42u7i5pn0j0d0 FOREIGN KEY (founder_enterprise_id) REFERENCES public.enterprise(id);


--
-- Name: process_previous_process fk8scvxr4augd9dbseyr2om925m; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.process_previous_process
    ADD CONSTRAINT fk8scvxr4augd9dbseyr2om925m FOREIGN KEY (previous_process_id) REFERENCES public.process(id);


--
-- Name: process_next_process fkby2ooyingchs2txr20tah3q2t; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.process_next_process
    ADD CONSTRAINT fkby2ooyingchs2txr20tah3q2t FOREIGN KEY (process_id) REFERENCES public.process(id);


--
-- Name: process_next_process fkgeov8x7rv59x3gb5n1p58c590; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.process_next_process
    ADD CONSTRAINT fkgeov8x7rv59x3gb5n1p58c590 FOREIGN KEY (next_process_id) REFERENCES public.process(id);


--
-- Name: process_previous_process fkimnbmll6yfrh5ir8dx01dlowx; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.process_previous_process
    ADD CONSTRAINT fkimnbmll6yfrh5ir8dx01dlowx FOREIGN KEY (process_id) REFERENCES public.process(id);


--
-- Name: process fknxi3tfbf7116q4u6xv736rsf1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.process
    ADD CONSTRAINT fknxi3tfbf7116q4u6xv736rsf1 FOREIGN KEY (executor_enterprise_id) REFERENCES public.enterprise(id);


--
-- PostgreSQL database dump complete
--

